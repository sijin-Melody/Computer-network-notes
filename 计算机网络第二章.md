#  计算机网络第二章

2.1物理层

①物理层所要解决的问题

**计算机网络体系结构中的物理层，‍‍就是要解决在各种传输媒体上传输比特0和1的问题，进而给数据链路层提供透明传输比特流的服务。‍‍所谓透明是指数据链路层看不见，也无需看见物理层究竟使用的是什么方法‍‍来传输比特0和1的，他只管享受物理层提供的比特流传输服务即可。**

![image-20230321103813923](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321103813923.png)

②物理层协议的主要任务：四个
物理层协议种类就比较多，每种物理层协议都包含了上述4个任务的具体内容。
在学习物理层时，我们应该将重点放在掌握基本概念上，而不是某个具体的物理层协议。

2.2物理层下面的运输媒体

传输媒体可分为两类，一类是导引型传输媒体，另一类是非导引型传输媒体。
![image-20230321104136704](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321104136704.png)

①导引型传输媒体
在导引型传输媒体中，电磁波被导引沿着固体媒体传播。

1️⃣同轴电缆

>![image-20230321111820492](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321111820492.png)
>
>**a.基带同轴电缆**（50欧） 用于`数字传输`，过去用于局域网，现在局域网领域采用[双绞线](https://so.csdn.net/so/search?q=双绞线&spm=1001.2101.3001.7020)
>**b.宽带同轴电缆**（75欧） 用于`模拟传输`，目前主要用于有线电视

2️⃣双绞线

>![image-20230321111940285](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321111940285.png)
>
>**绞合的作用**
>a.抵御部分来自外界的电磁干扰
>b.减少相邻导线的电磁干扰
>**目前的家用以太网，最低应选用超5类（5E）双绞线**
>屏蔽双绞线比非屏蔽双绞线具有更好的抗干扰性能，但价格也更贵。

3️⃣光纤

**a.多模光纤**

光在多模[光纤](https://so.csdn.net/so/search?q=光纤&spm=1001.2101.3001.7020)中不断**全反射向前传输**
由于色散问题，光在多模光纤会产生脉冲展宽的问题

>**1、多模光纤只适用于近距离传输**（建筑物内）
>**2、多模光纤对光源要求不高**。可采用便宜的发光二极管作为光源。相应的，可采用光电二极管来检测光脉冲。

**b.单模光纤**

单模光纤的直径**仅一个光波的波长**。光在其中一直向前传播而**不发生全反射**。

>![image-20230321112142790](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112142790.png)
>
>**1、单模光纤没有脉冲展宽问题**
>**2、单模光纤适合长距离传输**且衰减小，但其制造成本高，对光源要求高。
>**3、必须使用昂贵的激光发生器作为光源**。相应的，需要使用激光检波器来检测光脉冲。

>**光纤原理图解**
>
>![image-20230321112248420](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112248420.png)
>
>在发送端可以采用发光二极管或半导体激光器作为光源，在接收端可以采用光电二极管或激光检波器检测光脉冲。
>
>![image-20230321112338710](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112338710.png)
>
>![image-20230321112350225](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112350225.png)
>
>综合对比：
>实际上只要从纤芯中射到纤芯表面的光线的入射角，大于某一个临界角度，就可产生全反射，因此可以存在许多条不同角度入射的光线，在一条光纤中进行传输。这种光纤称为多模光纤
>
>![image-20230321112519300](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112519300.png)
>
>若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。这样的光纤称为单模光纤
><img src="C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112554417.png" alt="image-20230321112554417" style="zoom: 50%;" />

4️⃣电力线

并不是新技术（上个世纪20年代就出现了）
**对于家用或小型企业，只有在无法或不愿布网线的情况下采用。**

>![image-20230321112656799](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112656799.png)

②非导引型传输媒体

0️⃣电信领域使用的电磁波的频谱

>![image-20230321112756661](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112756661.png)
>这是国际电信联盟ITU对电磁波频段的划分，
>![image-20230321112815830](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112815830.png)
>从极低频到甚低频，也就是从极长波到甚长波，这些频段并不用于电信领域
>![image-20230321112840403](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112840403.png)
>从特高频到极高频，也就是从分米波到毫米波，这些频段的电磁波又称为微波，用于无线电话，无线网络，雷达，人造卫星接收，射电天文、人体扫描等。

1️⃣无线电波

低频LF和中频MF频段，使用**地面波传输**
高频HF和甚高频VHF频段，依靠**电离层的反射**进行传输

> ![image-20230321112940224](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321112940224.png)

2️⃣微波

**直线传播，可以穿透电离层**
地面100米发生塔，最大视距LOS传输距离为100公里
地球同步卫星
低轨道卫星

> 由于微波在空间是直线传播的，而地球表面是个曲面，因此其传播距离受到限制，一般只有50公里左右，但若采用100米高的天线塔，则传播距离可增大到100公里。为实现远距离通信，必须在一条微波通信信道的两个终端之间建立若干个中继站，中继站把前一站送来的信号经过放大后，再发送到下一站。故称为**接力**，
>
> 常用的卫星通信方法是在地球站之间，利用位于约36,000公里高空的人造同步地球卫星，作为中继器的一种微波接力通信。其最大特点是通信距离远，相应的传播时延也比较大，一般在250~300毫秒之间。除同步卫星外，低轨道卫星通信系统已开始在空间部署，并构成了空间高速链路，
>
> ![image-20230321113105821](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321113105821.png)

3️⃣红外线

笔记本电脑上已经淘汰

>![image-20230321113303770](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321113303770.png)



4️⃣可见光

**LiFi比WiFi具有更高的传输速率**
目前还在实验研究阶段

③无线电频谱管理机构

![image-20230321113403022](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321113403022.png)

2.3传输方式

![image-20230321113424054](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321113424054.png)

①串行传输和并行传输

 `1️⃣串行传输`
**比特一个接一个在一根传输线上进行传输。**
>适合远距离传输，计算机网络采用这种传输。

`2️⃣并行传输`
**多个比特同时在多根传输线上传输。**

>并行传输是指一次发送n个比特，而不是一个比特。为此在发送端和接收端之间需要有n条传输线路，
>并行传输的优点是速度为串行传输的n倍，但也存在一个严重的缺点，即成本高。
>
>![image-20230321120612331](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321120612331.png)
>
>数据在传输线路上的传输采用的是串行传输还是并行传输？答案是**串行传输。**
>
>计算机内部的数据传输常采用并行传输方式，例如CPU与内存之间通过总线进行数据传输，常见的数据总线宽度有8位、16位、32位和64位。

②同步传输和异步传输

1️⃣同步传输

比特一个接着一个传输，中间没有间隔，各比特持续时长相等。
需要收发双方时钟同步，有两种方法：

> ![image-20230321122840413](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321122840413.png)

`2️⃣异步传输`
以字节为单位进行传输，字节之间的间隔不固定，但每个字节内的比特持续时长是相等的。

> ![image-20230321122935843](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321122935843.png)
>
> **字节间异步，比特间仍是同步的**。为此，需要给每个字节添加起始位和结束位。

③单工、半双工以及全双工传输

- 单工通信又称为单向通信，通信双方只有一个数据传输方向，比如无线电广播
- 半双工又称为双向交替通信，通信双方可以相互传输数据，但不能同时进行。例如对讲机
- 全双工通信又称为双向同时通信，双方可以同时发送和接收信息，例如电话
- 单向通信只需要一条信道，而双向交替通信或双向同时通信则都需要两条信道，每个方向各一条，

2.4 编码与调制

①数据通信中的常用术语

- `1️⃣消息`

  需要计算机处理的**文字、图片、音频以及视频等**统称为消息。

- `2️⃣数据`

  数据是**运送消息的实体**。计算机只能处理二进制数据。

- `3️⃣信号`

  信号是**数据的电磁表现**

基带信号又可分为两类

>一类是数字基带信号，例如计算机内部CPU与内存之间传输的信号
>另一类是模拟基带信号，例如麦克风收到声音后产生的音频信号，

![image-20230321124533924](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321124533924.png)

信号需要在信道中进行传输，信道可分为数字信道和模拟信道两种

对于数字基带信号在两种信道上传输：

>- 在不改变信号性质的前提下，**仅对数字基带信号的波形进行变换，‍‍称为编码**。编码后产生的信号仍为数字信号，可以在数字信道中传输，例如以太网使用曼彻斯特编码，4B/5B、8B/10B等编码
>- 把数字基带信号的频率范围搬移到较高的频段，**并转换为模拟信号，称为调制**。调制后产生的信号是模拟信号，可以在模拟信道中传输。例如WiFi使用补码键控，直接序列扩频，正交评分复用等调制方法。

对于模拟基带信号在两种信道上传输：

>- 对模拟基带信号进行编码的典型应用是：对音频信号进行编码的脉码调制PCM。也就是将模拟音频信号通过采样，量化，编码这三个步骤进行数字化
>- 对模拟信号进行调制的典型应用是将语音数据加载到模拟的载波信号中传输，例如传统的电话，另一个是频分复用FDM技术，可以充分利用带宽资源。
>- 调制方法有：例如WIFI，采用补码键控CCK/直接序列扩频DSSS/正交频分服用OFDM等

****

码元的概念：**在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形成为码元。****简单来说码元就是构成信号的一段波形**，例如这是一个调频信号，这一段波形是构成该信号的一个基本波形，我们可称其为码元，它可以表示比特0，当然也可以表示比特1，这一段波形是构成该信号的另一个基本模型，也称为码元。它可以表示比特1，可见该信号由两种码元构成。

<img src="C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321134208379.png" alt="image-20230321134208379" style="zoom: 50%;" />

传输媒体和信道不能直接划等号，对于单工传输，传输媒体中只包含一个信道，要么是发送信道，要么是接收信道。

*****

②编码

- `1️⃣数字信号转换为另一种数字信号`

  在数字信道中传输

  > **例如**，以太网使用**曼彻斯特编码、4B/5B、8B/10B等编码**。

- `2️⃣模拟信号转换为数字信号`

  在数字信道中传输

  > **例如**，对音频信号进行编码的脉码**调制PCM**。

3️⃣常用编码

**a.不归零编码**

**在整个码元时间内不会出现零电平**

> 存在同步问题，需要额外一根传输线来传输时钟信号，使发送方和接收方同步。
> **对于计算机网络，宁愿利用这根传输线传输数据信号，而不是传输时钟信号。**
>
> ![image-20230321133711038](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321133711038.png)

**b.归零编码**

> **每个码元传输结束后信号都要“归零”**，所以接收方只要在信号归零后进行采样即可，**不需要单独的时钟信号。**
>
> ![image-20230321133821994](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321133821994.png)
>
> 很明显，每个码元传输结束后信号都要归零，所以接收方只要在信号归0后进行采样即可，不需要单独的时钟信号。实际上，归零编码相当于把时钟信号用“归零”方式编码在了数据之内，这称为“自同步”信号。
> 但是，归零编码中大部分的数据带宽，都用来传输“归零”而浪费掉了,**缺点是编码效率低**。

c.曼彻斯特编码

> **在码元中间时刻发生电平跳变，既表示时钟，也表示数据。**
>
> ![image-20230321133954389](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321133954389.png)
>
> 正跳变表示1或0，负跳变表示0或1，可自行定。
> 传统以太网（10Mb/s）使用该编码。

d.差分曼彻斯特编码

> 在码元中间时刻发生电平跳变，**跳变仅表示时钟。**
> ![image-20230321134327532](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321134327532.png)
>
> 每个码元的开始处，这是每个码元的结束处
> ![image-20230321134349078](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321134349078.png)
>
> 依据码元开始处电平是否发生变化来表示比特0或比特1。
>
> 差分曼彻斯特编码比 曼彻斯特编码变化少，更适合较高的传输速率
>
> 

*********

习题：

![image-20230321134430125](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321134430125.png)

10BaseT中的10表示带宽为10兆比特每秒，base表示基带传输，T表示双脚线，这种以太网使用曼彻斯特编码，根据曼彻斯特编码的特点，也就是每个码元在其中间时刻发生跳变，可以划分出所给信号中的各码元。至于正跳变表示1还是0，负跳变表示0还是1，没有具体规定，可以自行假设。

我们假设正跳变表示1，负跳变表示0，那么该码元表示1，该码元表示一，该码元表示0，该码元表示0，该码元表示1，至此可以发现没有一个答案是符合的，那说明我们的假设有错误

![image-20230321134728889](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321134728889.png)
那么应该是正跳变表示0，负跳变表示1，写出各码元所表示的比特，现在可以看出正确答案是a

*******

③调制

1️⃣数字信号转换为模拟信号`

在模拟信道中传输

> **例如WiFi**，采用补码键控CCK/直接序列扩频DSSS/正交频分复用OFDM等调制方式。

2️⃣模拟信号转换为另一种模拟信号

在模拟信道中传输

>**例如，语音数据加载到模拟的载波信号中传输。**
>频分复用FDM技术，充分利用带宽资源。

3️⃣基本调制（二元制）

- 这是调幅所产生的模拟信号，无载波输出表示比特0，有载波输出表示比特1
- 这是调频所产生的模拟信号。频率f一的波形表示比特0，频率f2的波形表示比特1，
- 这是调相所产生的模拟信号。初向位0度的波形表示比特0，初向位180度的波形表示比特1。

![image-20230321203419109](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203419109.png)

3️⃣混合调制（多元制）

**例如，将相位与振幅进行混合调制的正交振幅调制QAM。**
QAM16可以调制出12种相位，每种相位有1或2个种振幅可选。
可以调制出16种基本波形，每种波形可以对应表示4个比特。
**a.频率和相位混合**

![image-20230321203806750](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203806750.png)

**b.相位和振幅混合**

![image-20230321203821014](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203821014.png)

**c.混合调制举例**（QAM）

![image-20230321203839234](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203839234.png)

![image-20230321203857438](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203857438.png)

![image-20230321203918429](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203918429.png)

![image-20230321203925667](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321203925667.png)

## 2.5 信道的极限容量

![image-20230321204235038](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321204235038.png)

②奈氏准则

![image-20230321204420330](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321204420330.png)

注意事项：
实际的信道所能传输的最高码元速率要**明显低于奈式准则给出的上限值**，‍‍这是因为奈式准则是在假定的理想条件下推导出来的，他不考虑其他因素，例如传输距离、‍‍噪声干扰，传输媒体质量等。

仅从公式来看，只要采用更好的调制方法，‍‍让码元可以携带更多的比特，岂不是**可以无限制的提高信息的传输速率吗？**答案是否定的，‍‍信道的极限信息传输速率还要受限于实际的信号，在信道中传输时的信噪比，‍‍因为信道中的噪声也会影响接收端对码元的识别，并且噪声功率相对信号功率越大，‍‍影响就越大。‍‍

低通就是只要低于该频率就能通过，带通就是在某个区间内频率可以通过。默认低通

③香农公式

![image-20230321204754985](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321204754985.png)

综合来看奈式准则和香农公式。在信道带宽一定的情况下，要想提高信息的传输速率，‍‍就必须采用多元制，‍‍并努力提高信道中的信噪比。

自从香农公式发表以后，各种新的信号处理和调制方法‍‍就要不断出现，其目的都是为了尽可能的接近香农公式所给出的传输速率极限。‍‍

****

习题：

记住电磁波在不同传输媒体的传播速率，

![image-20230321205050458](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321205050458.png)

![image-20230321205313151](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321205313151.png)
只需关心这种调制技术，可以调制出多少个不同的基本波形即可。
![image-20230321212904462](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321212904462.png)

![image-20230321210147838](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321210147838.png)

每个码元只能传输两个bit，只有四种选择

![image-20230321210525953](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321210525953.png)

![image-20230321210738454](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321210738454.png)

# 物理层习题

![image-20230321211254357](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321211254357.png)

![image-20230321211501218](C:\Users\melody\AppData\Roaming\Typora\typora-user-images\image-20230321211501218.png)

注意区分差分和普通的曼特编码